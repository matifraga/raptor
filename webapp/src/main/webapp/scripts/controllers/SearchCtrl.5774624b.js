define(["AnguRaptor","services/api","directives/trending-box","directives/rawr-list","directives/user-list","services/PageTitleService"],function(a){a.controller("SearchCtrl",["$scope","api","$routeParams","PageTitleService","$translate",function(a,b,c,d,e){var f={term:c.term?c.term:"",type:"",items:[],mobile:0|c.mobile},g=function(a,b){return function(c,d,e){return a(b,c,d,e)}};f.processSearch=function(){switch(f.items=[],f.type="",f.term.charAt(0)){case"#":f.bareTerm=f.term.substring(1),f.type="rawrs",f.items.push({nextPage:g(b.search.hashtags.find,f.bareTerm)});break;case"@":f.bareTerm=f.term.substring(1),f.type="users",f.items.push({nextPage:function(a,c){return b.search.users.find(f.bareTerm,a,c)}});break;default:f.bareTerm=f.term,f.type="rawrs",f.items.push({nextPage:g(b.search.rawrs.find,f.bareTerm)})}e("SEARCH_TITLE",{term:f.term}).then(function(a){f.items[0].title=a})},f.mobile||f.processSearch(),d.setTranslatedTitle("PAGE_SEARCH_TITLE",{term:f.term}),a.search=f}])});